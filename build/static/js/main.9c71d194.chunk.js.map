{"version":3,"sources":["services/persons.js","Components/Filter.js","Components/Form.js","Components/DeleteButton.js","Components/Number.js","Components/Numbers.js","Components/Notification.js","App.js","index.js"],"names":["URL","axios","get","then","response","data","person","post","id","delete","put","Filter","persons","setPersons","useState","searchText","setSearchText","useEffect","searchResult","filter","lowerCaseName","name","toLowerCase","lowerCaseText","includes","length","value","onChange","target","Form","setMessage","setSuccess","newName","setNewName","newNumber","setNewNumber","isHere","find","onSubmit","event","preventDefault","personObj","number","tmpPerson","window","confirm","personsServices","map","elem","setTimeout","catch","error","type","DeleteButton","handleClick","onClick","Number","prev","deletePersonWrapper","Numbers","Notification","message","isSuccess","style","color","padding","border","App","console","log","initialPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c71d194.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst URL = \"/api/persons\";\n\nconst getPersons = () => {\n  const request = axios.get(URL);\n  return request.then((response) => response.data);\n};\n\nconst postPerson = (person) => {\n  const request = axios.post(URL, person);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${URL}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst putPerson = (id, person) => {\n  const request = axios.put(`${URL}/${id}`, person);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getPersons,\n  postPerson,\n  deletePerson,\n  putPerson,\n};\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Filter = ({ persons, setPersons }) => {\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const handleSearchText = ({ target }) => {\r\n    setSearchText(target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const searchResult = persons.filter(({ name }) => {\r\n      const lowerCaseName = name.toLowerCase();\r\n      const lowerCaseText = searchText.toLowerCase();\r\n\r\n      return lowerCaseName.includes(lowerCaseText);\r\n    });\r\n\r\n    if (searchResult.length > 0) setPersons(searchResult);\r\n    else setPersons([]);\r\n  }, [searchText]);\r\n\r\n  return <input value={searchText} onChange={handleSearchText} />;\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useState } from \"react\";\r\nimport personsServices from \"../services/persons\";\r\n\r\nconst Form = ({ persons, setPersons, setMessage, setSuccess }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const handleNameChange = ({ target }) => setNewName(target.value);\r\n  const handleNumberChange = ({ target }) => setNewNumber(target.value);\r\n\r\n  const addNumber = (event) => {\r\n    event.preventDefault();\r\n\r\n    const personObj = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    const tmpPerson = isHere(newName);\r\n\r\n    if (tmpPerson) {\r\n      const anwer = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one ?`\r\n      );\r\n\r\n      if (anwer) {\r\n        personsServices\r\n          .putPerson(tmpPerson.id, { ...tmpPerson, number: newNumber })\r\n          .then((person) => {\r\n            setPersons(\r\n              persons.map((elem) => (elem.id !== tmpPerson.id ? elem : person))\r\n            );\r\n\r\n            setSuccess(true);\r\n            setMessage(`Edited ${newName}`);\r\n\r\n            setTimeout(() => setMessage(null), 5000);\r\n          })\r\n          .catch((error) => {\r\n            setSuccess(false);\r\n            setMessage(\r\n              `Information of ${newName} has already been removed from server`\r\n            );\r\n\r\n            setTimeout(() => setMessage(null), 5000);\r\n          });\r\n      }\r\n\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n      return;\r\n    }\r\n\r\n    personsServices\r\n      .postPerson(personObj)\r\n      .then((person) => {\r\n        setPersons([...persons, person]);\r\n        setSuccess(true);\r\n        setMessage(`Added ${newName}`);\r\n\r\n        setTimeout(() => setMessage(null), 5000);\r\n      })\r\n      .catch((error) => {\r\n        setSuccess(false);\r\n        setMessage(`Name or number cant be empty`);\r\n\r\n        setTimeout(() => setMessage(null), 5000);\r\n      });\r\n\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const isHere = (newName) => persons.find(({ name }) => name === newName);\r\n\r\n  return (\r\n    <form onSubmit={addNumber}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\n\nconst DeleteButton = ({ handleClick }) => (\n  <button onClick={handleClick}>Delete</button>\n);\n\nexport default DeleteButton;\n","import React from \"react\";\r\nimport DeleteButton from \"./DeleteButton\";\r\nimport personsServices from \"../services/persons\";\r\n\r\nconst Number = ({ id, name, number, setPersons }) => {\r\n  const deletePersonWrapper = (id, name) => {\r\n    return () => {\r\n      const answer = window.confirm(`Delete ${name} ?`);\r\n\r\n      if (answer) {\r\n        return personsServices.deletePerson(id).then(() => {\r\n          setPersons((prev) => prev.filter((person) => person.id !== id));\r\n        });\r\n      }\r\n    };\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      {name} {number}\r\n      <DeleteButton handleClick={deletePersonWrapper(id, name)} />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Number;\r\n","import React from \"react\";\r\nimport Number from \"./Number\";\r\n\r\nconst Numbers = ({ persons, setPersons }) => (\r\n  <ul>\r\n    {persons.map(({ id, name, number }) => (\r\n      <Number\r\n        key={id}\r\n        id={id}\r\n        name={name}\r\n        number={number}\r\n        setPersons={setPersons}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default Numbers;\r\n","import React from \"react\";\n\nconst Notification = ({ message, isSuccess }) => {\n  if (!message) return null;\n\n  const style = {\n    color: isSuccess ? \"green\" : \"red\",\n    padding: \"1rem\",\n    border: \"1px solid green\",\n  };\n\n  return <div style={style}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport personsServices from \"./services/persons\";\n\nimport Filter from \"./Components/Filter\";\nimport Form from \"./Components/Form\";\nimport Numbers from \"./Components/Numbers\";\nimport Notification from \"./Components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [isSuccess, setSuccess] = useState(true);\n\n  const conditionalRender = () => {\n    if (persons.length > 0) {\n      return <Numbers persons={persons} setPersons={setPersons} />;\n    }\n\n    return null;\n  };\n\n  useEffect(() => {\n    console.log(\"Fetch data\");\n    personsServices\n      .getPersons()\n      .then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} isSuccess={isSuccess} />\n      <Filter persons={persons} setPersons={setPersons} />\n      <h3>Add a new</h3>\n      <Form\n        persons={persons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n        setSuccess={setSuccess}\n      />\n      <h2>Numbers</h2>\n      {conditionalRender()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}